<div class="orders-page">
  <h1>My Orders</h1>
  
  <% if @orders.empty? %>
    <div class="empty-orders">
      <p>You haven't placed any orders yet.</p>
      <%= link_to 'Start Shopping', products_path, class: 'btn-primary' %>
    </div>
  <% else %>
    <div class="orders-list">
      <% @orders.each do |order| %>
        <div class="order-card">
          <div class="order-header">
            <div class="order-info">
              <h3>Order #<%= order.id %></h3>
              <p>Placed on <%= order.created_at.strftime("%B %d, %Y") %></p>
            </div>
            <div class="order-status">
              <span class="status status-<%= order.status %>"><%= order.status.humanize %></span>
            </div>
          </div>
          
          <div class="order-items">
            <% order.order_items.each do |item| %>
              <div class="order-item">
                <div class="item-image">
                  <% if item.product.images.attached? %>
                    <%= image_tag item.product.images.first.variant(resize_to_fit: [60, 60]), alt: item.product.name %>
                  <% end %>
                </div>
                <div class="item-details">
                  <h4><%= item.product.name %></h4>
                  <p>Quantity: <%= item.quantity %></p>
                </div>
                <div class="item-price">
                  <%= number_to_currency(item.price_at_purchase * item.quantity / 100.0) %>
                </div>
              </div>
            <% end %>
          </div>
          
          <div class="order-footer">
            <div class="order-total">
              <span>Total:</span>
              <span><%= number_to_currency(order.total / 100.0) %></span>
            </div>
            <div class="order-actions">
              <%= link_to 'View Details', order_path(order), class: 'btn-secondary' %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    
    <div class="pagination">
      <%= paginate @orders %>
    </div>
  <% end %>
</div>